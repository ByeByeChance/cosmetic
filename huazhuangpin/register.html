<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>碧灵网</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="shortcut icon" href="images/favicon.gif"/>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
	</head>
	<body id="page-register">
		<header>
			<div class="header-links">
				<div class="container">
					<div class="row">
						<div class="header-links-left col-md-6 col-sm-6 pull-left">
							<ul class="contact-links clearfix">
								<li><a href="javascript:;"><i class="fa fa-home"></i>5 Avenue, Some City </a></li>
								<li><a href="javascript:;"><i class="fa fa-phone"></i>+987 654 321 </a></li>
							</ul>
						</div>
						<div class="header-links-right col-md-6 col-sm-6 pull-left hidden">
							<ul class="system-links text-right clearfix">
								<div class="hadChecked hidden">
									<li><a href="javascript:;"><i class="fa fa-shopping-cart"></i>购物车</a></li>
									<li><a href="javascript:;"><i class="fa fa-sign-out"></i>注销</a></li>
									<li>欢迎您，用户 <a href="user.html" class="username">10086</a></li>
								</div>
								<div class="notCheck">
									<li><a href="register.html"><i class="fa fa-registered"></i>注册</a></li>
									<li><a href="login.html"><i class="fa fa-sign-in"></i>登录</a></li>  
								</div>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="container header-middle-line">
				<div class="row">
					<a href="index.html" id="logo"><img src="images/logo.png" alt=""></a>
					<nav class="top-search">
						<button class="search-btn"><i class="fa fa-search"></i></button>
						<input class="search-field" type="text" placeholder="查询">
					</nav>
				</div>
			</div>
			<div id="main-navigation">
				<!--main navigation wrapper starts -->
				<div class="container">
					<ul class="main-menu clearfix">
						<li class="sfHover">
							<a href="index.html" id="current">首页</a>
						</li>
						<li>
							<a href="#">护肤</a>
							<!-- Mega Menu / Start -->
							<ul class="clearfix">
								<li>
									<a href="#">洁面</a>
								</li>
								<li>
									<a href="#">爽肤水</a>
								</li>
								<li>
									<a href="#">精华</a>
								</li>
								<li>
									<a href="#">乳液</a>
								</li>
								<li>
									<a href="#">面霜</a>
								</li>
								<li>
									<a href="#">眼霜</a>
								</li>
								<li>
									<a href="#">面膜</a>
								</li>
								<li>
									<a href="#">护肤套装</a>
								</li>
							</ul>
							<!-- Mega Menu / End -->
						</li>
						<li>
							<a href="#">彩妆</a>
							<!-- Second Level / Start -->
							<ul class="clearfix">
								<li>
									<a href="#">卸妆</a>
								</li>
								<li>
									<a href="#">爽肤水</a>
								</li>
								<li>
									<a href="#">粉底液</a>
								</li>
								<li>
									<a href="#">粉饼</a>
								</li>
								<li>
									<a href="#">眼影</a>
								</li>
								<li>
									<a href="#">眼线笔</a>
								</li>
								<li>
									<a href="#">睫毛膏</a>
								</li>
								<li>
									<a href="#">眉笔</a>
								</li>
								<li>
									<a href="#">口红</a>
								</li>
								<li>
									<a href="#">腮红</a>
								</li>
							</ul>
							<!-- Second Level / End -->
						</li>
						<li>
							<a href="#">香水</a>
							<!-- Second Level / Start -->
							<ul class="clearfix">
								<li>
									<a href="#">女士香水</a>
								</li>
								<li>
									<a href="#">男士香水</a>
								</li>
								<li>
									<a href="#">中性香水</a>
								</li>
								<li>
									<a href="#">Q版香水</a>
								</li>
								<li>
									<a href="#">香水套装</a>
								</li>
								<li>
									<a href="#">精油</a>
								</li>
							</ul>
							<!-- Second Level / End -->
						</li>
						<li>
							<a href="#">男士专区</a>
							<!-- Second Level / Start -->
							<ul class="clearfix">
								<li>
									<a href="#">洁面</a>
								</li>
								<li>
									<a href="#">爽肤水</a>
								</li>
								<li>
									<a href="#">面霜</a>
								</li>
								<li>
									<a href="#">精华</a>
								</li>
								<li>
									<a href="#">洗发</a>
								</li>
								<li>
									<a href="#">沐浴</a>
								</li>
							</ul>
							<!-- Second Level / End -->
						</li>
						<li>
							<a href="#">最新产品</a>
						<li>
							<a href="#">明星产品</a>
						</li>
					</ul>
					<!-- main navigation ends-->
					<div class="after-nav-info">
						<h4>联系电话: +987 654 321 000</h4>
					</div>
				</div>
			</div>
		</header>
		<div class="container">
			<div class="row">
				<form class="form-horizontal col-md-12">
					<fieldset>
						<div class="heading text-center">
				  			<h3>Register</h3>
				  		</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right" for="input01">手机号码</label>
							<div class="controls col-md-7">
								<input type="text" placeholder="请输入您的手机号码" class="input-xlarge" id="phone">
								<p class="help-block hidden">手机号码格式错误</p>
							</div>
						</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right" for="input01">昵称</label>
							<div class="controls col-md-7">
								<input type="text" placeholder="请输入您的昵称" class="input-xlarge" id="nickname">
								<p class="help-block hidden">请输入您的昵称</p>
							</div>
						</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right">请选择您的性别</label>
							<div class="controls col-md-7" id="sex">
								<label class="radio">
								    <input type="radio" value="0" name="sex" checked="checked">男
								</label>
								<label class="radio">
								    <input type="radio" value="1" name="sex">女
								</label>
							</div>
						</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right" for="input01">邮箱地址</label>
							<div class="controls col-md-7">
								<input type="email" placeholder="请输入您的邮箱" class="input-xlarge" id="email">
								<p class="help-block hidden">邮箱格式错误</p>
							</div>
						</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right" for="input01">登录密码</label>
							<div class="controls col-md-7">
								<input type="password" placeholder="请输入您的登录密码" class="input-xlarge" id="psw">
							</div>
						</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right" for="input01">确认密码</label>
							<div class="controls col-md-7">
								<input type="password" placeholder="请再次输入您的登录密码" class="input-xlarge" id="psw2">
								<p class="help-block hidden">两次输入的密码不一致</p>
							</div>
						</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right" for="input01">收货地址</label>
							<div class="controls col-md-7">
								<input type="text" placeholder="点击选择您的收货地址" class="input-xlarge" id="address">
								<p class="help-block hidden">请选择收货地址</p>
							</div>
						</div>
						<div class="control-group row">
							<label class="control-label col-md-5 text-right" for="input01">详细地址</label>
							<div class="controls col-md-7">
								<input type="text" placeholder="请填写您的详细地址" class="input-xlarge" id="addressDetail">
								<p class="help-block hidden">请填写您的详细地址</p>
							</div>
						</div>
						<div class="control-group row">
							<div class="controls col-md-12 text-center">
								<a href="javascript:;" class="btn btn-success" id="register">注册</a>
							</div>
							<div class="col-md-4 col-md-offset-4 register-other">
								<span class="pull-right">已有账号？去 <a href="login.html">登陆</a></span>
							</div>
						</div>
					</fieldset>
				</form>
			</div>
		</div>
		<footer id="footer">
			<section class="container">
				<div class="row">
					<div class="col-md-2">
						<h4>服务保障</h4>
						<ul>
							<li>
								<a href="javascript:;">品牌正品防伪码</a>
							</li>
							<li>
								<a href="javascript:;">正品保证</a>
							</li>
							<li>
								<a href="javascript:;">30天无条件退货</a>
							</li>
							<li>
								<a href="javascript:;">7x24小时客服服务</a>
							</li>
						</ul>
					</div>
					<div class="col-md-2">
						<h4>使用帮助</h4>
						<ul>
							<li>
								<a href="javascript:;">新手指南</a>
							</li>
							<li>
								<a href="javascript:;">常见问题</a>
							</li>
							<li>
								<a href="javascript:;">帮助中心</a>
							</li>
							<li>
								<a href="javascript:;">用户协议</a>
							</li>
						</ul>
					</div>
					<div class="col-md-2">
						<h4>支付方式</h4>
						<ul>
							<li>
								<a href="javascript:;">货到付款</a>
							</li>
							<li>
								<a href="javascript:;">在线支付</a>
							</li>
							<li>
								<a href="javascript:;">余额支付</a>
							</li>
							<li>
								<a href="javascript:;">现金券支付</a>
							</li>
						</ul>
					</div>
					<div class="col-md-2">
						<h4>配送方式</h4>
						<ul>
							<li>
								<a href="javascript:;">包邮政策</a>
							</li>
							<li>
								<a href="javascript:;">配送说明</a>
							</li>
							<li>
								<a href="javascript:;">运费说明</a>
							</li>
							<li>
								<a href="javascript:;">验货签收</a>
							</li>
						</ul>
					</div>
					<div class="col-md-2">
						<h4>售后服务</h4>
						<ul>
							<li>
								<a href="javascript:;">正品承诺</a>
							</li>
							<li>
								<a href="javascript:;">售后咨询</a>
							</li>
							<li>
								<a href="javascript:;">退货政策</a>
							</li>
							<li>
								<a href="javascript:;">退货办理</a>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<section class="copyright text-center">
				<div class="container">
					<div class="row">
	                    <div class="col-md-6">                     
	                        <p>
	                            Copyright &copy; 2018 All rights reserved.
	                        </p>
	                    </div>
	                    <div class="col-md-6">  
	                        <ul class="list-inline sponsors-icons pull-right">
	                            <li><i class="fa fa-cc-paypal"></i></li>
	                            <li><i class="fa fa-cc-visa"></i></li>
	                            <li><i class="fa fa-cc-mastercard"></i></li>
	                            <li><i class="fa fa-cc-discover"></i></li>
	                        </ul>
	                    </div>
	                </div>
				</div>
			</section>
		</footer>
		<script src="js/jquery-1.8.2.min.js" type="text/javascript"></script>
		<script src="js/bootstrap-2.3.2.min.js" type="text/javascript"></script>
		<script src="js/navigation.min.js" type="text/javascript"></script>
		<script src="js/Popt.js" type="text/javascript"></script>
		<script src="js/cityJson.js" type="text/javascript"></script>
		<script src="js/citySet.js" type="text/javascript"></script>
		<script type="text/javascript">
			
			$(function(){
				
				$('ul.main-menu').superfish({
		            delay: 100, // one second delay on mouseout 
		            animation: {
		                opacity: 'show',
		                height: 'show'
		            }, // fade-in and slide-down animation 
		            speed: '1000', // faster animation speed 
		            autoArrows: false // disable generation of arrow mark-up 
		        });
		        
		        $("#address").click(function (e) {
					SelCity(this, e);
				});
				
				$("#register").click(function () {
					var phone = $("#phone").val(),
						nickname = $("#nickname").val(),
						email = $("#email").val(),
						province = $("#hcity").val(),
						city = $("#hproper").val(),
						region = $("#harea").val(),
						addressDetail = $("#addressDetail").val(),
						psw = $("#psw").val(),
						psw2 = $("#psw2").val(),
						sex = $('#sex input:radio:checked').val();
					var con = true;
					
					if (isNaN(phone) || phone.length != 11) {
						$("#phone").siblings(".help-block").removeClass("hidden").parents(".control-group").addClass("has-error");
						con = false;
					} else {
						$("#phone").siblings(".help-block").addClass("hidden").parents(".control-group").removeClass("has-error");
						if (nickname == "") {
						$("#nickname").siblings(".help-block").removeClass("hidden").parents(".control-group").addClass("has-error");
							con = false;
						} else {
							$("#nickname").siblings(".help-block").addClass("hidden").parents(".control-group").removeClass("has-error");
							if (email == "") {
								$("#email").siblings(".help-block").removeClass("hidden").parents(".control-group").addClass("has-error");
								con = false;
							} else {
								$("#email").siblings(".help-block").addClass("hidden").parents(".control-group").removeClass("has-error");
								if (address == "") {
									$("#address").siblings(".help-block").removeClass("hidden").parents(".control-group").addClass("has-error");
									con = false;
								} else {
									$("#address").siblings(".help-block").addClass("hidden").parents(".control-group").removeClass("has-error");
									if (addressDetail == "") {
										$("#addressDetail").siblings(".help-block").removeClass("hidden").parents(".control-group").addClass("has-error");
										con = false;
									} else {
										$("#addressDetail").siblings(".help-block").addClass("hidden").parents(".control-group").removeClass("has-error");
										if (psw != psw2 || psw == "") {
											$("#psw2").siblings(".help-block").removeClass("hidden").parents(".control-group").addClass("has-error");
											con = false;
										} else {
											$("#psw2").siblings(".help-block").addClass("hidden").parents(".control-group").removeClass("has-error");
											con = true;
										}
									}
								}
							}
						}
					}
					
					if (con) {
						register(phone, nickname, sex, email, province, city, region, addressDetail, psw);
					}
				});
				
			});
			
			function register (phone, nickname, sex, email, province, city, region, addressDetail, psw) {
				$.ajax({
					type: "post",
					url: "/web/WebsiteManager/register",
                    dataType: "json",
                    data: {
                    		phone: phone,
                    		nickname: nickname,
                    		sex: sex, 
                    		email: email, 
                    		province: province, 
                    		city: city,
                    		region: region,
                    		addressDetail: addressDetail, 
                    		psw: psw
                    },
                    success: function (data) {
                    		if (data.flag == 1) {
                    			sessionStorage.setItem("userId", data.data);
                    			location.href = '/web/showPage/index';
                    		} else {
                    			console.log(data.msg)
                    		}
                    },
                    error: function (xhr) {
                    		alert(xhr.responseText);
                    }
				});
			}
			
		</script>
	</body>
</html>
